// Función de Fibonacci
function [31:0] fibonacci;
    input [31:0] n;
    integer i;
    reg [31:0] a, b, temp;
    begin
        // Comprobación básica para n < 0
        if (n < 0) begin
            fibonacci = 32'bx; // Valor indeterminado en caso de entrada negativa
        end else if (n == 0) begin
            fibonacci = 0; // Fibonacci(0) es 0
        end else if (n == 1) begin
            fibonacci = 1; // Fibonacci(1) es 1
        end else begin
            a = 0;
            b = 1;
            for (i = 2; i <= n; i = i + 1) begin // Comenzamos desde i=2
                temp = a + b;
                a = b;
                b = temp;
            end
            fibonacci = a; // Asignamos el resultado de Fibonacci(n)
        end
    end
endfunction
